---
Test
---
!***> definitions

!define REQUEST_0 { {{{Accounting-Request, ID 0
Acct-Status-Type: Start
User-Name: fooBar}}} }

!define REQUEST_1 { {{{Accounting-Request, ID 0
Acct-Status-Type: Start}}} }

!define REQUEST_2 { {{{Accounting-Request, ID 0
Acct-Status-Type: Start
User-Name: zooBar}}} }

!define REQUEST_3 { {{{Accounting-Request, ID 0
Acct-Status-Type: Start
Class: A:fooBar
Class: B:zooBar}}} }

!define RESPONSE { {{{Accounting-Response, ID 0}}} }

*!
!2 Multiple Requests in RADIUS Accounting Fixture Script Mode
Multiple request can be sent in script mode paying attention to updete/remove attributes.

|script               |radius client fixture               |
|load radius acct endpoint                                 |
|set request attribute|Acct-Status-Type|with value|Start   |
|set request attribute|Custom-String   |with value|fooBar  |
|check                |send accounting |Accounting-Response|
|check                |request         |${REQUEST_0}       |
|check                |response        |${RESPONSE}        |
|set request attribute|Custom-String   |with value|zooBar  |
|check                |send accounting |Accounting-Response|
|check                |request         |${REQUEST_2}       |
|check                |response        |${RESPONSE}        |

!3 Remove Attribute
To remove an attribute, provide ''null'' as value.
|script               |radius client fixture               |
|load radius acct endpoint                                 |
|set request attribute|Acct-Status-Type|with value|Start   |
|set request attribute|Custom-String   |with value|fooBar  |
|check                |send accounting |Accounting-Response|
|check                |request         |${REQUEST_0}       |
|check                |response        |${RESPONSE}        |
|set request attribute|Custom-String   |with value|null    |
|check                |send accounting |Accounting-Response|
|check                |request         |${REQUEST_1}       |
|check                |response        |${RESPONSE}        |
|set request attribute|Custom-String   |with value|zooBar  |
|check                |send accounting |Accounting-Response|
|check                |request         |${REQUEST_2}       |
|check                |response        |${RESPONSE}        |
